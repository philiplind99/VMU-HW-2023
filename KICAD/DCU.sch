EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title "DRIVER CONTROL UNIT (DCU)"
Date "2020-05-05"
Rev "2.0"
Comp "KTH FORMULA STUDENT"
Comment1 "DeV17"
Comment2 "JOACHIM LARSSON"
Comment3 "JOACLA@KTH.SE"
Comment4 ""
$EndDescr
Text Label 2125 5950 2    50   ~ 0
STEERING_ANGLE_2_SIGNAL
Text Label 2125 5650 2    50   ~ 0
STEERING_ANGLE_1_SIGNAL
Text Label 3125 7100 0    50   ~ 0
BRAKE_PRESSURE_1_SIGNAL
Text Label 3125 7200 0    50   ~ 0
BRAKE_PRESSURE_2_SIGNAL
Text Label 3125 5350 0    50   ~ 0
BPPS1_SIGNAL
Text Label 3125 5650 0    50   ~ 0
BPPS2_SIGNAL
Text Label 3125 6600 0    50   ~ 0
APPS2_SIGNAL
Text Label 3125 6100 0    50   ~ 0
APPS1_SIGNAL
Text Label 2125 5350 2    50   ~ 0
CAN1_H
Text Label 2125 5450 2    50   ~ 0
CAN1_L
Text Label 2125 5250 2    50   ~ 0
CONTROL_SYSTEMS_SUPPLY
Text Label 2875 3100 0    50   ~ 0
APPS2_SIGNAL
Text Label 2875 3000 0    50   ~ 0
APPS1_SIGNAL
Text Label 2875 3500 0    50   ~ 0
STEERING_ANGLE_1_SIGNAL
Text Label 2875 3600 0    50   ~ 0
STEERING_ANGLE_2_SIGNAL
Text Label 3125 5550 0    50   ~ 0
BPPS2_SUPPLY
Text Label 3125 6500 0    50   ~ 0
APPS2_SUPPLY
Text Label 3125 5250 0    50   ~ 0
BPPS1_SUPPLY
Text Label 3125 6000 0    50   ~ 0
APPS1_SUPPLY
Text Label 2125 5850 2    50   ~ 0
STEERING_ANGLE_2_SUPPLY
Text Label 2125 5550 2    50   ~ 0
STEERING_ANGLE_1_SUPPLY
Text Notes 3950 4800 0    50   ~ 0
 Signal conditioning for analog inputs (0-5V)\n Same for every signal.\n Consists of voltage divider, clamping diodes,\n low pass filter and a buffer
$Comp
L Connector:Conn_01x04_Male J3
U 1 1 60134A85
P 4450 6100
F 0 "J3" H 4450 6275 50  0000 L CNN
F 1 "Conn_01x04_Male" H 3675 5975 50  0001 L CNN
F 2 "KTHFS:Wurth-WTB_2.54_male_vert_4" H 4450 6100 50  0001 C CNN
F 3 "~" H 4450 6100 50  0001 C CNN
	1    4450 6100
	-1   0    0    -1  
$EndComp
NoConn ~ 4250 6300
NoConn ~ 4250 6800
$Comp
L Connector:Conn_01x06_Male J2
U 1 1 6013E20E
P 4450 5450
F 0 "J2" H 4450 5725 50  0000 L CNN
F 1 "Conn_01x06_Female" H 3500 5375 50  0001 L CNN
F 2 "KTHFS:Wurth-WTB_2.54_male_vert_6" H 4450 5450 50  0001 C CNN
F 3 "~" H 4450 5450 50  0001 C CNN
	1    4450 5450
	-1   0    0    -1  
$EndComp
Text Label 6000 4750 0    50   ~ 0
BSPD_TRIGGERED_SIGNAL
Text Label 3125 7000 0    50   ~ 0
BSPD_TRIGGERED_SIGNAL
NoConn ~ 4250 7300
$Comp
L Connector:Conn_01x10_Female J1
U 1 1 6015BBDB
P 800 5650
F 0 "J1" H 725 6125 50  0000 L CNN
F 1 "Conn_01x10_Female" H 828 5535 50  0001 L CNN
F 2 "KTHFS:Wurth-MM_female_10" H 800 5650 50  0001 C CNN
F 3 "~" H 800 5650 50  0001 C CNN
	1    800  5650
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 60161140
P 2125 6250
F 0 "#PWR0101" H 2125 6000 50  0001 C CNN
F 1 "GND" H 2200 6075 50  0001 R CNN
F 2 "" H 2125 6250 50  0001 C CNN
F 3 "" H 2125 6250 50  0001 C CNN
	1    2125 6250
	-1   0    0    -1  
$EndComp
Text Label 2875 1500 0    50   ~ 0
CONTROL_SYSTEMS_SUPPLY
$Comp
L Connector:Conn_01x04_Male J4
U 1 1 60131353
P 4450 6600
F 0 "J4" H 4450 6775 50  0000 L CNN
F 1 "Conn_01x04_Female" H 4478 6485 50  0001 L CNN
F 2 "KTHFS:Wurth-WTB_2.54_male_vert_4" H 4450 6600 50  0001 C CNN
F 3 "~" H 4450 6600 50  0001 C CNN
	1    4450 6600
	-1   0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x04_Female J5
U 1 1 6014AA74
P 4450 7100
F 0 "J5" H 4375 7275 50  0000 L CNN
F 1 "Conn_01x04_Female" H 4478 6985 50  0001 L CNN
F 2 "KTHFS:Wurth-MM_female_4" H 4450 7100 50  0001 C CNN
F 3 "~" H 4450 7100 50  0001 C CNN
	1    4450 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1000 5350 2125 5350
Wire Wire Line
	1000 5250 2125 5250
Wire Wire Line
	1000 5450 2125 5450
Wire Wire Line
	2125 5650 1000 5650
Wire Wire Line
	1000 5550 2125 5550
Wire Wire Line
	1000 5850 2125 5850
Wire Wire Line
	2125 5950 1000 5950
Text Label 2125 6150 2    50   ~ 0
CONTROL_SYSTEMS_GND
Wire Wire Line
	2125 6250 2125 6150
Wire Wire Line
	1000 6150 2125 6150
Text Label 2125 5750 2    50   ~ 0
STEERING_ANGLE_1_GND
Text Label 2125 6050 2    50   ~ 0
STEERING_ANGLE_2_GND
Text Label 3125 5450 0    50   ~ 0
BPPS1_GND
Text Label 3125 5750 0    50   ~ 0
BPPS2_GND
Text Label 3125 6200 0    50   ~ 0
APPS1_GND
Text Label 3125 6700 0    50   ~ 0
APPS2_GND
Wire Wire Line
	2875 1500 4000 1500
$Comp
L power:GND #PWR0102
U 1 1 63815C19
P 6500 7250
F 0 "#PWR0102" H 6500 7000 50  0001 C CNN
F 1 "GND" H 6575 7075 50  0000 R CNN
F 2 "" H 6500 7250 50  0001 C CNN
F 3 "" H 6500 7250 50  0001 C CNN
	1    6500 7250
	-1   0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 63817610
P 6500 7000
F 0 "#FLG0101" H 6500 7075 50  0001 C CNN
F 1 "PWR_FLAG" H 6500 7173 50  0000 C CNN
F 2 "" H 6500 7000 50  0001 C CNN
F 3 "~" H 6500 7000 50  0001 C CNN
	1    6500 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 7250 6500 7000
Text Label 2875 3350 0    50   ~ 0
BPPS2_SIGNAL
Text Label 2875 3250 0    50   ~ 0
BPPS1_SIGNAL
Wire Wire Line
	6250 3000 7000 3000
Wire Wire Line
	7000 3100 6250 3100
Wire Wire Line
	6250 3250 7000 3250
Wire Wire Line
	7000 3350 6250 3350
Wire Wire Line
	6250 3500 7000 3500
Wire Wire Line
	7000 3600 6250 3600
Wire Wire Line
	6250 3750 7000 3750
Wire Wire Line
	7000 3850 6250 3850
Wire Wire Line
	6250 4000 7000 4000
Text Label 6000 5000 0    50   ~ 0
CAN1_H
Text Label 6000 5100 0    50   ~ 0
CAN1_L
Text Label 7375 1500 2    50   ~ 0
APPS1_SUPPLY
Text Label 7375 1600 2    50   ~ 0
APPS2_SUPPLY
Text Label 7375 1700 2    50   ~ 0
BPPS1_SUPPLY
Text Label 7375 1800 2    50   ~ 0
BPPS2_SUPPLY
Text Label 7375 1900 2    50   ~ 0
STEERING_ANGLE_1_SUPPLY
Text Label 7375 2000 2    50   ~ 0
STEERING_ANGLE_2_SUPPLY
$Comp
L power:GND #PWR0103
U 1 1 63FE9356
P 3025 5825
F 0 "#PWR0103" H 3025 5575 50  0001 C CNN
F 1 "GND" H 3100 5650 50  0001 R CNN
F 2 "" H 3025 5825 50  0001 C CNN
F 3 "" H 3025 5825 50  0001 C CNN
	1    3025 5825
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 63FEB1BA
P 3025 5525
F 0 "#PWR0104" H 3025 5275 50  0001 C CNN
F 1 "GND" H 3100 5350 50  0001 R CNN
F 2 "" H 3025 5525 50  0001 C CNN
F 3 "" H 3025 5525 50  0001 C CNN
	1    3025 5525
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3025 5825 3025 5750
Wire Wire Line
	3025 5525 3025 5450
$Comp
L power:GND #PWR0105
U 1 1 63FF0AAA
P 3025 6275
F 0 "#PWR0105" H 3025 6025 50  0001 C CNN
F 1 "GND" H 3100 6100 50  0001 R CNN
F 2 "" H 3025 6275 50  0001 C CNN
F 3 "" H 3025 6275 50  0001 C CNN
	1    3025 6275
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3025 6275 3025 6200
$Comp
L power:GND #PWR0106
U 1 1 63FF4CD9
P 3025 6775
F 0 "#PWR0106" H 3025 6525 50  0001 C CNN
F 1 "GND" H 3100 6600 50  0001 R CNN
F 2 "" H 3025 6775 50  0001 C CNN
F 3 "" H 3025 6775 50  0001 C CNN
	1    3025 6775
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3025 6775 3025 6700
Wire Wire Line
	1000 6050 2225 6050
Wire Wire Line
	2225 6050 2225 6125
$Comp
L power:GND #PWR0107
U 1 1 63FFD4C3
P 2225 6125
F 0 "#PWR0107" H 2225 5875 50  0001 C CNN
F 1 "GND" H 2300 5950 50  0001 R CNN
F 2 "" H 2225 6125 50  0001 C CNN
F 3 "" H 2225 6125 50  0001 C CNN
	1    2225 6125
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2225 5825 2225 5750
Wire Wire Line
	1000 5750 2225 5750
$Comp
L power:GND #PWR0108
U 1 1 6400144E
P 2225 5825
F 0 "#PWR0108" H 2225 5575 50  0001 C CNN
F 1 "GND" H 2300 5650 50  0001 R CNN
F 2 "" H 2225 5825 50  0001 C CNN
F 3 "" H 2225 5825 50  0001 C CNN
	1    2225 5825
	-1   0    0    -1  
$EndComp
Wire Wire Line
	6250 1500 7375 1500
Wire Wire Line
	6250 1600 7375 1600
Wire Wire Line
	6250 1700 7375 1700
Wire Wire Line
	6250 1800 7375 1800
Wire Wire Line
	6250 1900 7375 1900
Wire Wire Line
	6250 2000 7375 2000
Wire Wire Line
	2875 3000 4000 3000
Wire Wire Line
	2875 3100 4000 3100
Wire Wire Line
	2875 3250 4000 3250
Wire Wire Line
	2875 3350 4000 3350
Wire Wire Line
	2875 3500 4000 3500
Wire Wire Line
	2875 3600 4000 3600
Wire Wire Line
	3125 5250 4250 5250
Wire Wire Line
	3125 5350 4250 5350
Wire Wire Line
	3025 5450 4250 5450
Wire Wire Line
	3125 5550 4250 5550
Wire Wire Line
	3125 5650 4250 5650
Wire Wire Line
	3025 5750 4250 5750
Wire Wire Line
	3125 6000 4250 6000
Wire Wire Line
	3125 6100 4250 6100
Wire Wire Line
	3025 6200 4250 6200
Wire Wire Line
	3125 6500 4250 6500
Wire Wire Line
	3125 6600 4250 6600
Wire Wire Line
	3025 6700 4250 6700
Wire Wire Line
	3125 7000 4250 7000
Wire Wire Line
	3125 7100 4250 7100
Wire Wire Line
	3125 7200 4250 7200
Text Label 2875 3750 0    50   ~ 0
BRAKE_PRESSURE_1_SIGNAL
Wire Wire Line
	2875 3750 4000 3750
Text Label 2875 3850 0    50   ~ 0
BRAKE_PRESSURE_2_SIGNAL
Wire Wire Line
	2875 3850 4000 3850
$Sheet
S 4000 2750 2250 1500
U 5EB3D36C
F0 "SIGNAL_CONDITIONING" 79
F1 "SIGNAL_CONDITIONING.sch" 79
F2 "APPS2_SIGNAL" I L 4000 3100 50 
F3 "APPS1_SIGNAL" I L 4000 3000 50 
F4 "BPPS2_SIGNAL" I L 4000 3350 50 
F5 "BPPS1_SIGNAL" I L 4000 3250 50 
F6 "STEERING_ANGLE_2_SIGNAL" I L 4000 3600 50 
F7 "BRAKE_PRESSURE_1_SIGNAL" I L 4000 3750 50 
F8 "BRAKE_PRESSURE_2_SIGNAL" I L 4000 3850 50 
F9 "STEERING_ANGLE_1_SIGNAL" I L 4000 3500 50 
F10 "APPS1" O R 6250 3000 50 
F11 "BPPS2" O R 6250 3350 50 
F12 "BPPS1" O R 6250 3250 50 
F13 "STEERING_ANGLE_2" O R 6250 3600 50 
F14 "STEERING_ANGLE_1" O R 6250 3500 50 
F15 "BRAKE_PRESSURE_1" O R 6250 3750 50 
F16 "BRAKE_PRESSURE_2" O R 6250 3850 50 
F17 "PCB_TEMPERATURE" O R 6250 4000 50 
F18 "APPS2" O R 6250 3100 50 
$EndSheet
Wire Notes Line
	4625 3000 5925 3000
Wire Notes Line
	5925 3100 4625 3100
Wire Notes Line
	4625 3250 5925 3250
Wire Notes Line
	5925 3350 4625 3350
Wire Notes Line
	5100 3500 5450 3500
Wire Notes Line
	5450 3600 5100 3600
Wire Notes Line
	5150 3750 5400 3750
Wire Notes Line
	5400 3850 5150 3850
$Sheet
S 7000 2750 1500 2500
U 5EB3D0BC
F0 "MCU" 79
F1 "MCU.sch" 79
F2 "CAN1_H" B L 7000 5000 50 
F3 "CAN1_L" B L 7000 5100 50 
F4 "APPS1" I L 7000 3000 50 
F5 "APPS2" I L 7000 3100 50 
F6 "BPPS1" I L 7000 3250 50 
F7 "BPPS2" I L 7000 3350 50 
F8 "BRAKE_PRESSURE_2" I L 7000 3850 50 
F9 "BRAKE_PRESSURE_1" I L 7000 3750 50 
F10 "STEERING_ANGLE_1" I L 7000 3500 50 
F11 "STEERING_ANGLE_2" I L 7000 3600 50 
F12 "PCB_TEMPERATURE" I L 7000 4000 50 
F13 "BSPD_TRIGGERED_SIGNAL" I L 7000 4750 50 
$EndSheet
Wire Wire Line
	6000 4750 7000 4750
Wire Wire Line
	6000 5000 7000 5000
Wire Wire Line
	6000 5100 7000 5100
$Sheet
S 4000 1250 2250 1000
U 5EF29697
F0 "POWER" 79
F1 "POWER.sch" 79
F2 "CONTROL_SYSTEMS_SUPPLY" I L 4000 1500 50 
F3 "APPS1_SUPPLY" O R 6250 1500 50 
F4 "APPS2_SUPPLY" O R 6250 1600 50 
F5 "BPPS1_SUPPLY" O R 6250 1700 50 
F6 "BPPS2_SUPPLY" O R 6250 1800 50 
F7 "STEERING_ANGLE_1_SUPPLY" O R 6250 1900 50 
F8 "STEERING_ANGLE_2_SUPPLY" O R 6250 2000 50 
$EndSheet
$EndSCHEMATC
